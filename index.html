<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Blind Server Test</title>
</head>
<body>

<h1 id="tick">0</h1>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const app = initializeApp({
  apiKey: "AIzaSyD4XkZaqv7_c-uiUFc2NvZEFyQUapirz-Y",
  databaseURL: "https://setouchi-it-default-rtdb.europe-west1.firebasedatabase.app"
});

const db = getDatabase(app);
const tickRef = ref(db, "time/tick");

// إرسال عداد
setInterval(() => {
  set(tickRef, Date.now());
}, 1000);

// استقبال العداد
onValue(tickRef, snap => {
  if (snap.exists()) {
    document.getElementById("tick").textContent = snap.val();
  }
});
</script>

</body>
</html>
