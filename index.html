<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>بوابة زمنية</title>
<style>
body {
  background: black;
  color: #00ff00;
  font-family: monospace;
  text-align: center;
  padding-top: 40px;
}
#time {
  font-size: 48px;
  margin: 20px;
}
#msg {
  font-size: 24px;
  color: #0af;
}
</style>
</head>
<body>

<h2>⏳ الوقت المركزي للموقع</h2>
<div id="time">--:--:--</div>
<div id="msg"></div>

<script>
async function fetchTime() {
  const res = await fetch('time.json?'+Date.now());
  const data = await res.json();

  const now = new Date();
  const adjusted = new Date(now.getTime() + data.offsetMinutes * 60000);

  const h = adjusted.getHours().toString().padStart(2,'0');
  const m = adjusted.getMinutes().toString().padStart(2,'0');
  const s = adjusted.getSeconds().toString().padStart(2,'0');

  document.getElementById('time').textContent = `${h}:${m}:${s}`;

  if (h === "03" && m === "00") {
    document.getElementById('msg').textContent = data.message;
  } else {
    document.getElementById('msg').textContent = "";
  }
}

setInterval(fetchTime, 1000);
fetchTime();
</script>

</body>
</html>
